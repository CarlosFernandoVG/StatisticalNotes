<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 Tablas de contingencia | Statistical Notes</title>
  <meta name="description" content="Notas sobre temas relacionados a la estadística" />
  <meta name="generator" content="bookdown 0.21.6 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 Tablas de contingencia | Statistical Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Notas sobre temas relacionados a la estadística" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 Tablas de contingencia | Statistical Notes" />
  
  <meta name="twitter:description" content="Notas sobre temas relacionados a la estadística" />
  

<meta name="author" content="Carlos Fernando Vásquez Guerra" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pruebas-binomiales-y-de-rangos.html"/>
<link rel="next" href="pruebas-de-bondad-y-ajuste.html"/>
<script src="libs/header-attrs-2.7.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Statistical Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos"><i class="fa fa-check"></i>Objetivos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura"><i class="fa fa-check"></i>Estructura</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#detalles-técnicos"><i class="fa fa-check"></i>Detalles técnicos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licencia"><i class="fa fa-check"></i>Licencia</a></li>
</ul></li>
<li class="part"><span><b>I Estadística no paramétrica</b></span></li>
<li class="chapter" data-level="1" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html"><i class="fa fa-check"></i><b>1</b> Pruebas de hipótesis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#qué-es-una-prueba-de-hipótesis"><i class="fa fa-check"></i><b>1.1</b> ¿Qué es una Prueba de Hipótesis?</a></li>
<li class="chapter" data-level="1.2" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#dos-tipos-de-hipótesis"><i class="fa fa-check"></i><b>1.2</b> Dos tipos de hipótesis</a></li>
<li class="chapter" data-level="1.3" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#significancia-y-confianza"><i class="fa fa-check"></i><b>1.3</b> Significancia y confianza</a></li>
<li class="chapter" data-level="1.4" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#rechazar-h_0"><i class="fa fa-check"></i><b>1.4</b> Rechazar <span class="math inline">\(H_0\)</span></a></li>
<li class="chapter" data-level="1.5" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#tipos-de-pruebas"><i class="fa fa-check"></i><b>1.5</b> Tipos de pruebas</a></li>
<li class="chapter" data-level="1.6" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#p-value"><i class="fa fa-check"></i><b>1.6</b> <span class="math inline">\(P-value\)</span></a></li>
<li class="chapter" data-level="1.7" data-path="pruebas-de-hipótesis.html"><a href="pruebas-de-hipótesis.html#algunos-puntos-a-recordar"><i class="fa fa-check"></i><b>1.7</b> Algunos puntos a recordar</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pruebas-binomiales-y-de-rangos.html"><a href="pruebas-binomiales-y-de-rangos.html"><i class="fa fa-check"></i><b>2</b> Pruebas binomiales y de rangos</a></li>
<li class="chapter" data-level="3" data-path="tablas-de-contingencia.html"><a href="tablas-de-contingencia.html"><i class="fa fa-check"></i><b>3</b> Tablas de contingencia</a></li>
<li class="chapter" data-level="4" data-path="pruebas-de-bondad-y-ajuste.html"><a href="pruebas-de-bondad-y-ajuste.html"><i class="fa fa-check"></i><b>4</b> Pruebas de bondad y ajuste</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pruebas-de-bondad-y-ajuste.html"><a href="pruebas-de-bondad-y-ajuste.html#funciones-de-distribución-comunes-y-técnicas-de-identificación"><i class="fa fa-check"></i><b>4.1</b> Funciones de distribución comunes y técnicas de identificación</a></li>
<li class="chapter" data-level="4.2" data-path="pruebas-de-bondad-y-ajuste.html"><a href="pruebas-de-bondad-y-ajuste.html#programación-y-evaluación"><i class="fa fa-check"></i><b>4.2</b> Programación y evaluación</a></li>
<li class="chapter" data-level="4.3" data-path="pruebas-de-bondad-y-ajuste.html"><a href="pruebas-de-bondad-y-ajuste.html#comparación-de-pruebas"><i class="fa fa-check"></i><b>4.3</b> Comparación de pruebas</a></li>
<li class="chapter" data-level="4.4" data-path="pruebas-de-bondad-y-ajuste.html"><a href="pruebas-de-bondad-y-ajuste.html#el-caso-de-la-normal"><i class="fa fa-check"></i><b>4.4</b> El caso de la normal</a></li>
</ul></li>
<li class="part"><span><b>II Regresión lineal</b></span></li>
<li class="chapter" data-level="5" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html"><i class="fa fa-check"></i><b>5</b> Regresión lineal simple</a>
<ul>
<li class="chapter" data-level="5.1" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#correlación-y-linearidad"><i class="fa fa-check"></i><b>5.1</b> Correlación y linearidad</a></li>
<li class="chapter" data-level="5.2" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#variables-categóricas"><i class="fa fa-check"></i><b>5.2</b> Variables categóricas</a></li>
<li class="chapter" data-level="5.3" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#paquetes-y-funciones-útiles"><i class="fa fa-check"></i><b>5.3</b> Paquetes y funciones útiles</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#correlación"><i class="fa fa-check"></i><b>5.3.1</b> Correlación</a></li>
<li class="chapter" data-level="5.3.2" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#regresión"><i class="fa fa-check"></i><b>5.3.2</b> Regresión</a></li>
<li class="chapter" data-level="5.3.3" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#tidymodelsbroom"><i class="fa fa-check"></i><b>5.3.3</b> TidyModels::Broom</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#ejemplo"><i class="fa fa-check"></i><b>5.4</b> Ejemplo</a></li>
<li class="chapter" data-level="5.5" data-path="regresión-lineal-simple.html"><a href="regresión-lineal-simple.html#otros-puntos-importantes"><i class="fa fa-check"></i><b>5.5</b> Otros puntos importantes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html"><i class="fa fa-check"></i><b>6</b> Regresión lineal múltiple</a>
<ul>
<li class="chapter" data-level="6.1" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#pruebas-de-hipótesis-y-anova-e-intervalos"><i class="fa fa-check"></i><b>6.1</b> Pruebas de hipótesis y ANOVA e intervalos</a></li>
<li class="chapter" data-level="6.2" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#interacción-y-selección-de-variables"><i class="fa fa-check"></i><b>6.2</b> Interacción y selección de variables</a></li>
<li class="chapter" data-level="6.3" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#supuestos-y-problemas-potenciales"><i class="fa fa-check"></i><b>6.3</b> Supuestos y problemas potenciales</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#transformaciones"><i class="fa fa-check"></i><b>6.3.1</b> +Transformaciones</a></li>
<li class="chapter" data-level="6.3.2" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#interpretaciones"><i class="fa fa-check"></i><b>6.3.2</b> Interpretaciones</a></li>
<li class="chapter" data-level="6.3.3" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#validación"><i class="fa fa-check"></i><b>6.3.3</b> Validación</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="regresión-lineal-múltiple.html"><a href="regresión-lineal-múltiple.html#predicción"><i class="fa fa-check"></i><b>6.4</b> Predicción</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html"><i class="fa fa-check"></i><b>7</b> Otros puntos importantes de regresión lineal</a>
<ul>
<li class="chapter" data-level="7.1" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html#comparación-de-modelos"><i class="fa fa-check"></i><b>7.1</b> Comparación de modelos</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html#r2"><i class="fa fa-check"></i><b>7.1.1</b> R^2</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html#análisis-de-valores-influyentes"><i class="fa fa-check"></i><b>7.2</b> Análisis de valores influyentes</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html#outliers"><i class="fa fa-check"></i><b>7.2.1</b> Outliers</a></li>
<li class="chapter" data-level="7.2.2" data-path="otros-puntos-importantes-de-regresión-lineal.html"><a href="otros-puntos-importantes-de-regresión-lineal.html#valores-con-alto-apalancamiento"><i class="fa fa-check"></i><b>7.2.2</b> Valores con alto “apalancamiento”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="anova-vs-regresión-lineal.html"><a href="anova-vs-regresión-lineal.html"><i class="fa fa-check"></i><b>8</b> ANOVA vs Regresión lineal</a></li>
<li class="chapter" data-level="9" data-path="librerías-para-eda.html"><a href="librerías-para-eda.html"><i class="fa fa-check"></i><b>9</b> Librerías para EDA</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Hecho con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tablas-de-contingencia" class="section level1" number="3">
<h1><span class="header-section-number">Capítulo 3</span> Tablas de contingencia</h1>
<style type="text/css">
pre {
  max-height: 300px;
  overflow-y: auto;
}

pre[class] {
  max-height: 300px;
}
</style>
<p>Además de la manera clásica que tenemos en R para generar una tabla de contingencia con <code>base::table()</code> podemos nosotros generar esta. Aquí se dejan tres maneras de hacer una tabla de contingencia apropiada con un data frame, para esto utilizaremos una bas da datos pública con datos de 120 años de las olimpiadas (Athens 1896-Rio 2016) obtenidos de este <a href="https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results">enlace</a>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="tablas-de-contingencia.html#cb7-1" aria-hidden="true" tabindex="-1"></a>olympics <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;athlete_events.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span>
<span id="cb7-2"><a href="tablas-de-contingencia.html#cb7-2" aria-hidden="true" tabindex="-1"></a>olympics</span></code></pre></div>
<pre><code># A tibble: 269,731 × 15
      ID Name    Sex     Age Height Weight Team   NOC   Games  Year Season City 
   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;
 1     1 A Diji… M        24    180     80 China  CHN   1992…  1992 Summer Barc…
 2     2 A Lamu… M        23    170     60 China  CHN   2012…  2012 Summer Lond…
 3     3 Gunnar… M        24     NA     NA Denma… DEN   1920…  1920 Summer Antw…
 4     4 Edgar … M        34     NA     NA Denma… DEN   1900…  1900 Summer Paris
 5     5 Christ… F        21    185     82 Nethe… NED   1988…  1988 Winter Calg…
 6     5 Christ… F        21    185     82 Nethe… NED   1988…  1988 Winter Calg…
 7     5 Christ… F        25    185     82 Nethe… NED   1992…  1992 Winter Albe…
 8     5 Christ… F        25    185     82 Nethe… NED   1992…  1992 Winter Albe…
 9     5 Christ… F        27    185     82 Nethe… NED   1994…  1994 Winter Lill…
10     5 Christ… F        27    185     82 Nethe… NED   1994…  1994 Winter Lill…
# … with 269,721 more rows, and 3 more variables: Sport &lt;chr&gt;, Event &lt;chr&gt;,
#   Medal &lt;chr&gt;</code></pre>
<p>Nuestro objetivo por el momento es obtener una tabla de contingencia donde se relacionen el tipo de medallas y la edad de los que obtuvieron una medalla. La primera propuesta es determinar cuantas medallas se obtuvieron por edad para después separar los datos por las distintas edades y con cada uno de esos datos obtener cuantas medallas de bronce, plata y oro se obtuvieron incluyendo los casos donde no se tiene registro de algún participante con cierta edad que haya ganado algún tipo específico de medalla.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="tablas-de-contingencia.html#cb9-1" aria-hidden="true" tabindex="-1"></a>get_n <span class="ot">&lt;-</span> <span class="cf">function</span>(df, Medalla){</span>
<span id="cb9-2"><a href="tablas-de-contingencia.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  nu <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Medal <span class="sc">==</span> Medalla)</span>
<span id="cb9-3"><a href="tablas-de-contingencia.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">dim</span>(nu)[<span class="dv">1</span>] <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb9-4"><a href="tablas-de-contingencia.html#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">integer</span>(<span class="dv">1</span>))</span>
<span id="cb9-5"><a href="tablas-de-contingencia.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb9-6"><a href="tablas-de-contingencia.html#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(nu<span class="sc">$</span>n)</span>
<span id="cb9-7"><a href="tablas-de-contingencia.html#cb9-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-8"><a href="tablas-de-contingencia.html#cb9-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-9"><a href="tablas-de-contingencia.html#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="tablas-de-contingencia.html#cb9-10" aria-hidden="true" tabindex="-1"></a>medals_by_age <span class="ot">&lt;-</span> olympics <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Medal) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Age)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-11"><a href="tablas-de-contingencia.html#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age) <span class="sc">%&gt;%</span> <span class="fu">count</span>(Medal) <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="tablas-de-contingencia.html#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-13"><a href="tablas-de-contingencia.html#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Bronze =</span> <span class="fu">map_int</span>(data, <span class="sc">~</span><span class="fu">get_n</span>(.x,<span class="st">&quot;Bronze&quot;</span>)), </span>
<span id="cb9-14"><a href="tablas-de-contingencia.html#cb9-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">Silver =</span> <span class="fu">map_int</span>(data, <span class="sc">~</span><span class="fu">get_n</span>(.x,<span class="st">&quot;Silver&quot;</span>)),</span>
<span id="cb9-15"><a href="tablas-de-contingencia.html#cb9-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">Gold =</span> <span class="fu">map_int</span>(data, <span class="sc">~</span><span class="fu">get_n</span>(.x,<span class="st">&quot;Gold&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb9-16"><a href="tablas-de-contingencia.html#cb9-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>data)</span>
<span id="cb9-17"><a href="tablas-de-contingencia.html#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="tablas-de-contingencia.html#cb9-18" aria-hidden="true" tabindex="-1"></a>medals_by_age</span></code></pre></div>
<pre><code># A tibble: 61 × 4
# Groups:   Age [61]
     Age Bronze Silver  Gold
   &lt;dbl&gt;  &lt;int&gt;  &lt;int&gt; &lt;int&gt;
 1    10      1      0     0
 2    11      0      1     0
 3    12      3      3     0
 4    13      2      7     7
 5    14     18     30    27
 6    15     54     67    75
 7    16    105    129   116
 8    17    172    163   199
 9    18    286    294   280
10    19    469    441   459
# … with 51 more rows</code></pre>
<p>En la siguiente propuesta se obtendrá el resultado anterior de una manera sencilla, así que primero se muestra antes de crear la tabla de contingencia.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="tablas-de-contingencia.html#cb11-1" aria-hidden="true" tabindex="-1"></a>medals_by_age <span class="ot">&lt;-</span> olympics <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Medal) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Age)) <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="tablas-de-contingencia.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age, Medal) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="tablas-de-contingencia.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="tablas-de-contingencia.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(Medal, n, <span class="at">fill =</span> <span class="dv">0</span>)</span>
<span id="cb11-5"><a href="tablas-de-contingencia.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="tablas-de-contingencia.html#cb11-6" aria-hidden="true" tabindex="-1"></a>medals_by_age</span></code></pre></div>
<pre><code># A tibble: 61 × 4
# Groups:   Age [61]
     Age Bronze  Gold Silver
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1    10      1     0      0
 2    11      0     0      1
 3    12      3     0      3
 4    13      2     7      7
 5    14     18    27     30
 6    15     54    75     67
 7    16    105   116    129
 8    17    172   199    163
 9    18    286   280    294
10    19    469   459    441
# … with 51 more rows</code></pre>
<p>Ya con este resultado, es sencillo crear nuestra tabla de contingencia</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="tablas-de-contingencia.html#cb13-1" aria-hidden="true" tabindex="-1"></a>table_medals <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(medals_by_age<span class="sc">$</span>Bronze, medals_by_age<span class="sc">$</span>Silver, medals_by_age<span class="sc">$</span>Gold), </span>
<span id="cb13-2"><a href="tablas-de-contingencia.html#cb13-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> T)</span>
<span id="cb13-3"><a href="tablas-de-contingencia.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(table_medals) <span class="ot">&lt;-</span> medals_by_age<span class="sc">$</span>Age</span>
<span id="cb13-4"><a href="tablas-de-contingencia.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(table_medals) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Bronze&quot;</span>, <span class="st">&quot;Silver&quot;</span>, <span class="st">&quot;Gold&quot;</span>)</span>
<span id="cb13-5"><a href="tablas-de-contingencia.html#cb13-5" aria-hidden="true" tabindex="-1"></a>table_medals</span></code></pre></div>
<pre><code>       10 11 12 13 14 15  16  17  18  19  20  21   22   23   24   25   26  27
Bronze  1  0  3  2 18 54 105 172 286 469 692 899 1081 1116 1106 1045 1001 890
Silver  0  1  3  7 30 67 129 163 294 441 638 860  982 1142 1048 1023  947 937
Gold    0  0  0  7 27 75 116 199 280 459 674 925 1096 1136 1135 1056  976 863
        28  29  30  31  32  33  34  35  36  37 38 39 40 41 42 43 44 45 46 47 48
Bronze 747 704 523 424 307 236 217 153 115 103 75 62 63 47 41 37 34 28 26 17 16
Silver 785 588 549 425 347 264 205 156 135  93 81 61 66 51 38 32 44 27 28 13 15
Gold   802 649 527 400 357 292 217 176 133  81 89 65 74 43 42 32 38 20 24 24 21
       49 50 51 52 53 54 55 56 57 58 59 60 61 63 64 65 66 68 69 71 72 73
Bronze 19  8 11 15  5  4  5  4  4  3  1  2  2  3  1  1  0  0  1  1  1  0
Silver 15 13  7  8  8  7  7  6  1  6  3  6  4  2  0  0  2  2  1  1  1  1
Gold   15 12  4 12  6 15  1 10  2  3  2  4  0  4  2  0  0  0  0  0  0  0</code></pre>
<p>Lo anterior puede ser obtenido con la función <code>tabyl()</code>. Esta función nos permitirá crear tablas de conteo a partir de una data frame con mencionar las variables que deseamos; se recomienda leer el siguiente <a href="https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html">vingette</a> para obtener más información; además de revisar el paquete <a href="https://github.com/sfirke/janitor">janitor</a> del cual proviene dicha función.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="tablas-de-contingencia.html#cb15-1" aria-hidden="true" tabindex="-1"></a>table_medals_efficent <span class="ot">&lt;-</span> olympics <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Medal) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Age)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="tablas-de-contingencia.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(Medal, Age)</span>
<span id="cb15-3"><a href="tablas-de-contingencia.html#cb15-3" aria-hidden="true" tabindex="-1"></a>table_medals_efficent</span></code></pre></div>
<pre><code>  Medal 10 11 12 13 14 15  16  17  18  19  20  21   22   23   24   25   26  27
 Bronze  1  0  3  2 18 54 105 172 286 469 692 899 1081 1116 1106 1045 1001 890
   Gold  0  0  0  7 27 75 116 199 280 459 674 925 1096 1136 1135 1056  976 863
 Silver  0  1  3  7 30 67 129 163 294 441 638 860  982 1142 1048 1023  947 937
  28  29  30  31  32  33  34  35  36  37 38 39 40 41 42 43 44 45 46 47 48 49 50
 747 704 523 424 307 236 217 153 115 103 75 62 63 47 41 37 34 28 26 17 16 19  8
 802 649 527 400 357 292 217 176 133  81 89 65 74 43 42 32 38 20 24 24 21 15 12
 785 588 549 425 347 264 205 156 135  93 81 61 66 51 38 32 44 27 28 13 15 15 13
 51 52 53 54 55 56 57 58 59 60 61 63 64 65 66 68 69 71 72 73
 11 15  5  4  5  4  4  3  1  2  2  3  1  1  0  0  1  1  1  0
  4 12  6 15  1 10  2  3  2  4  0  4  2  0  0  0  0  0  0  0
  7  8  8  7  7  6  1  6  3  6  4  2  0  0  2  2  1  1  1  1</code></pre>
<p>Con esta tabla, ya podemos realizar una prueba <span class="math inline">\(\chi^2\)</span>. ¿Que se interpreta del siguiente resultado? ¿Necesitaríamos modificar algo en la tabla anterior para tener una mayor confianza de los resultados?</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="tablas-de-contingencia.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(table_medals_efficent)</span></code></pre></div>
<pre><code>
    Pearson&#39;s Chi-squared test

data:  table_medals_efficent
X-squared = 132.57, df = 120, p-value = 0.204</code></pre>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pruebas-binomiales-y-de-rangos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pruebas-de-bondad-y-ajuste.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "github", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
